<div class="inline-feedback absolute left-0 right-0 bg-white overflow-y-auto">
    <div class="inline-feedback-wrapper px-4 mx-auto my-0 max-w-4xl">
        <div class=inline-feedback-prompt>
            {% block outerTitle %}
            <a class="open" href="#">{{ __("inline-feedback.footer-expand-link") }}</a>
            {% endblock %}
        </div>
        <form class="md:relative md:m-0 md:pb-4" method="post" action="https://us-central1-notification-demo-service.cloudfunctions.net/send?id=ZjzwrTxcUKlAU8GBguRt">
            <input type="hidden" name="_csrf" value="{{ csrfToken }}">
            <a class="close md:absolute md:top-0 md:right-0 text-lg" href="#">{{ __("inline-feedback.close") }}</a>
            {% block innerTitle %}
            <h1 class="md:mt-10">{{ __("inline-feedback.title") }}</h1>
            {% endblock %}
            {% block topMatter %}
            <p class="mt-8 text-xl">{{ __("inline-feedback.contact-1") }}</p>
            <p class="mt-1 mb-10 text-xl">{{ __("inline-feedback.contact-2") }}</p>
            {% endblock %}
            {% block questions %}
            {{ checkBoxes('feedback_type', 
                {
                    '1':"Incorrect or confusing information on this page",
                    '2':"This page does not work with your screen reader or other adaptive technology",
                    '3':"You could not complete [product-specific service/task]",
                    '4':"[product specific issue e.g.: “You’re missing documents”]",
                    '5':"You’re worried about your privacy",
                    '6':"Other"

                }, 
                data.feedback_type, 
                'form.midservice_feedback.type', 
                errors)
            }}
            {{ textArea('feedback_text', 'form.midservice_feedback.text', { hint: 'form.midservice_feedback.text.hint' }) }}
            {% endblock %}
            {% block submit %}
            <button type="submit" class="w-auto mb-10">{{ __("inline-feedback.submit") }} &#8594;</button>
            {% endblock %}
        </form>
    </div>
</div>

<script>
    if (typeof Promise !== "function" && document.querySelector('details') !== null) {
        document.write('<script src="/js/details-element-polyfill.js"><\/script>');
    }
    var inlineFeedbackDiv = document.querySelector('.inline-feedback')
    var inlineFeedbackDivClasses = inlineFeedbackDiv.classList
    var componentOpenClass = 'expanded'
    const inlineFeedbackOpenEl = inlineFeedbackDiv.querySelector('a.open')
    const inlineFeedbackCloseEl = inlineFeedbackDiv.querySelector('a.close')

    inlineFeedbackOpenEl.addEventListener("click", function(e) {	
        e.preventDefault();	
        inlineFeedbackDivClasses.add(componentOpenClass);	
        return false;	
    });	

    inlineFeedbackCloseEl.addEventListener("click", function(e) {	
        e.preventDefault();	
        inlineFeedbackDivClasses.remove(componentOpenClass);	
        return false;	
    });
</script>